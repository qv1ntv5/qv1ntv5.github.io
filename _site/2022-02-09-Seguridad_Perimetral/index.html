<!DOCTYPE html>
<html lang="en">
<!-- Beautiful Jekyll 5.0.0 | Copyright Dean Attali 2020 -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  

  

  <title>Seguridad Perimetral</title>

  
  <meta name="author" content="Qv1nTv5">
  

  <meta name="description" content="Concepto de seguridad perimetral y herramientas.">

  

  

  
  <link rel="alternate" type="application/rss+xml" title="Home" href="http://localhost:4000/feed.xml">
  

  

  

  

  


  
    
      
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    
      
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">


    
      
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">


    
  

  
    
      <link rel="stylesheet" href="/assets/css/bootstrap-social.css">
    
      <link rel="stylesheet" href="/assets/css/beautifuljekyll.css">
    
  

  

  
  
  

  

  
  <meta property="og:site_name" content="Home">
  <meta property="og:title" content="Seguridad Perimetral">
  <meta property="og:description" content="Concepto de seguridad perimetral y herramientas.">

  

  
  <meta property="og:type" content="article">
  <meta property="og:article:author" content="Qv1nTv5">
  <meta property="og:article:published_time" content="2022-02-09T00:00:00-05:00">
  <meta property="og:url" content="http://localhost:4000/2022-02-09-Seguridad_Perimetral/">
  <link rel="canonical" href="http://localhost:4000/2022-02-09-Seguridad_Perimetral/">
  

  
  <meta name="twitter:card" content="summary">
  
  <meta name="twitter:site" content="@Qvintvs1">
  <meta name="twitter:creator" content="@Qvintvs1">

  <meta property="twitter:title" content="Seguridad Perimetral">
  <meta property="twitter:description" content="Concepto de seguridad perimetral y herramientas.">

  

  


  

  

</head>


<body>

  


  <nav class="navbar navbar-expand-xl navbar-light fixed-top navbar-custom top-nav-regular"><a class="navbar-brand" href="http://localhost:4000/">Home</a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="main-navbar">
    <ul class="navbar-nav ml-auto">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Program</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/Cpage">C</a>
                  <a class="dropdown-item" href="/DHARMApage">Dharma</a>
            </div>
          </li>
        
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Pentest</a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="/BURPSUITEpage">Burp</a>
                  <a class="dropdown-item" href="/THMpage">Thm</a>
                  <a class="dropdown-item" href="/HackTheBoxpage">Htb</a>
                  <a class="dropdown-item" href="/PEN200page">BasicPentesting</a>
                  <a class="dropdown-item" href="/REDTEAMBASICSpage">RedTeam</a>
                  <a class="dropdown-item" href="/BLUETEAMBASICSpage">Blueteam</a>
                  <a class="dropdown-item" href="/REDESpage">Net</a>
                  <a class="dropdown-item" href="/2022-11-17-GitBasics">Git</a>
            </div>
          </li>
        
        <li class="nav-item">
          <a class="nav-link" id="nav-search-link" href="#" title="Search">
            <span id="nav-search-icon" class="fa fa-search"></span>
            <span id="nav-search-text">Search</span>
          </a>
        </li></ul>
  </div>

  

  

</nav>



<div id="beautifuljekyll-search-overlay">

  <div id="nav-search-exit" title="Exit search">✕</div>
  <input type="text" id="nav-search-input" placeholder="Search">
  <ul id="search-results-container"></ul>
  
  <script src="https://unpkg.com/simple-jekyll-search@latest/dest/simple-jekyll-search.min.js"></script>
  <script>
    var searchjson = '[ \
       \
        { \
          "title"    : "2. Constants and Literals in C.", \
          "category" : "C", \
          "url"      : "/2024-12-10-1.ConstantsinC-copy/", \
          "date"     : "December 10, 2024" \
        }, \
       \
        { \
          "title"    : "1. Basics of C", \
          "category" : "C", \
          "url"      : "/2024-12-02-1.BasicsOfC/", \
          "date"     : "December  2, 2024" \
        }, \
       \
        { \
          "title"    : "Gramáticas en Dharma", \
          "category" : "DHA", \
          "url"      : "/2024-09-24-Dharma_Tutorial/", \
          "date"     : "September 24, 2024" \
        }, \
       \
        { \
          "title"    : "Gramáticas en Dharma", \
          "category" : "fuzz", \
          "url"      : "/2024-03-22-Dharma_Tutorial-copy/", \
          "date"     : "March 22, 2024" \
        }, \
       \
        { \
          "title"    : "Mi experiencia con el OSCP", \
          "category" : "pen", \
          "url"      : "/2023-11-19-PEN200_Experience/", \
          "date"     : "November 19, 2023" \
        }, \
       \
        { \
          "title"    : "Client Side", \
          "category" : "pen", \
          "url"      : "/2023-11-17-17.Client_Side_Attacks/", \
          "date"     : "November 17, 2023" \
        }, \
       \
        { \
          "title"    : "Deep Packet Tunneling", \
          "category" : "pen", \
          "url"      : "/2023-11-16-16.Tunneling_Through_Deep_Packet_Inspection/", \
          "date"     : "November 16, 2023" \
        }, \
       \
        { \
          "title"    : "Report", \
          "category" : "pen", \
          "url"      : "/2023-11-15-15.Making_Reports/", \
          "date"     : "November 15, 2023" \
        }, \
       \
        { \
          "title"    : "Metasploit", \
          "category" : "pen", \
          "url"      : "/2023-11-14-14.Metasploit/", \
          "date"     : "November 14, 2023" \
        }, \
       \
        { \
          "title"    : "Password Attacks", \
          "category" : "pen", \
          "url"      : "/2023-11-13-13.Password_Attacks/", \
          "date"     : "November 13, 2023" \
        }, \
       \
        { \
          "title"    : "Active Directory Attacks", \
          "category" : "pen", \
          "url"      : "/2023-11-12-12.Active_Directory_Attacks/", \
          "date"     : "November 12, 2023" \
        }, \
       \
        { \
          "title"    : "Port Forwarding", \
          "category" : "pen", \
          "url"      : "/2023-11-11-11.Port_Forwarding/", \
          "date"     : "November 11, 2023" \
        }, \
       \
        { \
          "title"    : "Privilege Escalation", \
          "category" : "pen", \
          "url"      : "/2023-11-10-10.Privilege_Escalation/", \
          "date"     : "November 10, 2023" \
        }, \
       \
        { \
          "title"    : "File Transfers", \
          "category" : "pen", \
          "url"      : "/2023-11-09-9.File_Tranfers/", \
          "date"     : "November  9, 2023" \
        }, \
       \
        { \
          "title"    : "Buffer Overflows", \
          "category" : "pen", \
          "url"      : "/2023-11-08-8.Buffer_Overflows/", \
          "date"     : "November  8, 2023" \
        }, \
       \
        { \
          "title"    : "Vulnerability Scanning.", \
          "category" : "pen", \
          "url"      : "/2023-11-07-7.Vulnerability_Scanning/", \
          "date"     : "November  7, 2023" \
        }, \
       \
        { \
          "title"    : "Information Gathering", \
          "category" : "pen", \
          "url"      : "/2023-11-06-6.Active_Information_Gathering/", \
          "date"     : "November  6, 2023" \
        }, \
       \
        { \
          "title"    : "Windows", \
          "category" : "pen", \
          "url"      : "/2023-11-05-5.Windows/", \
          "date"     : "November  5, 2023" \
        }, \
       \
        { \
          "title"    : "Networking", \
          "category" : "pen", \
          "url"      : "/2023-11-04-4.Networking/", \
          "date"     : "November  4, 2023" \
        }, \
       \
        { \
          "title"    : "Scripting", \
          "category" : "pen", \
          "url"      : "/2023-11-03-3.Scripting/", \
          "date"     : "November  3, 2023" \
        }, \
       \
        { \
          "title"    : "Practical Tools", \
          "category" : "pen", \
          "url"      : "/2023-11-02-2.PracticalTools/", \
          "date"     : "November  2, 2023" \
        }, \
       \
        { \
          "title"    : "Linux", \
          "category" : "pen", \
          "url"      : "/2023-11-01-1.Linux/", \
          "date"     : "November  1, 2023" \
        }, \
       \
        { \
          "title"    : "Easy", \
          "category" : "hack", \
          "url"      : "/2022-12-01-Easy/", \
          "date"     : "December  1, 2022" \
        }, \
       \
        { \
          "title"    : "Git Basics", \
          "category" : "", \
          "url"      : "/2022-11-17-GitBasics/", \
          "date"     : "November 17, 2022" \
        }, \
       \
        { \
          "title"    : "Tier I", \
          "category" : "hack", \
          "url"      : "/2022-11-10-Tier_1/", \
          "date"     : "November 10, 2022" \
        }, \
       \
        { \
          "title"    : "Tier 0", \
          "category" : "hack", \
          "url"      : "/2022-11-09-Tier_0/", \
          "date"     : "November  9, 2022" \
        }, \
       \
        { \
          "title"    : "7.BufferOverflow.", \
          "category" : "thm", \
          "url"      : "/2022-11-02-7.BufferOverflow/", \
          "date"     : "November  2, 2022" \
        }, \
       \
        { \
          "title"    : "6.Offensive Pentesting", \
          "category" : "thm", \
          "url"      : "/2022-11-01-6.OffensivePentesting/", \
          "date"     : "November  1, 2022" \
        }, \
       \
        { \
          "title"    : "5.RedTeam", \
          "category" : "thm", \
          "url"      : "/2022-10-30-5.RedTeam/", \
          "date"     : "October 30, 2022" \
        }, \
       \
        { \
          "title"    : "4.Windows", \
          "category" : "thm", \
          "url"      : "/2022-10-22-4.Windows/", \
          "date"     : "October 22, 2022" \
        }, \
       \
        { \
          "title"    : "3.Junior Penetrationtester path", \
          "category" : "thm", \
          "url"      : "/2022-09-02-3.JRPenetrationTester/", \
          "date"     : "September  2, 2022" \
        }, \
       \
        { \
          "title"    : "2.Complete Begginer path.", \
          "category" : "thm", \
          "url"      : "/2022-08-07-2.CompleteBegginer/", \
          "date"     : "August  7, 2022" \
        }, \
       \
        { \
          "title"    : "1.Pre-Security path.", \
          "category" : "thm", \
          "url"      : "/2022-07-11-1Pre-Security/", \
          "date"     : "July 11, 2022" \
        }, \
       \
        { \
          "title"    : "0.Scripting for pentesters.", \
          "category" : "thm", \
          "url"      : "/2022-07-10-0.Scripting_for_pentesters/", \
          "date"     : "July 10, 2022" \
        }, \
       \
        { \
          "title"    : "Burp Certified Practitioner Practice Exam.", \
          "category" : "burp", \
          "url"      : "/2022-03-30-PracticeExam/", \
          "date"     : "March 30, 2022" \
        }, \
       \
        { \
          "title"    : "22. OAuth Authentication.", \
          "category" : "burp", \
          "url"      : "/2022-03-27-22.OAuth_authentication/", \
          "date"     : "March 27, 2022" \
        }, \
       \
        { \
          "title"    : "21. HTTP Request Smuggling.", \
          "category" : "burp", \
          "url"      : "/2022-03-26-21.HTTP_request_smuggling/", \
          "date"     : "March 26, 2022" \
        }, \
       \
        { \
          "title"    : "20. HTTP Host Header Attacks.", \
          "category" : "burp", \
          "url"      : "/2022-03-25-20.HTTP_Host_header_attacks/", \
          "date"     : "March 25, 2022" \
        }, \
       \
        { \
          "title"    : "19. Web Cache Poisoning.", \
          "category" : "burp", \
          "url"      : "/2022-03-24-19.Web_cache_poisoning/", \
          "date"     : "March 24, 2022" \
        }, \
       \
        { \
          "title"    : "18. Server-Side Template Injection.", \
          "category" : "burp", \
          "url"      : "/2022-03-23-18.Serve-side_template_injection/", \
          "date"     : "March 23, 2022" \
        }, \
       \
        { \
          "title"    : "17. Insecure Deserialization.", \
          "category" : "burp", \
          "url"      : "/2022-03-22-17.Insecure_deserialization/", \
          "date"     : "March 22, 2022" \
        }, \
       \
        { \
          "title"    : "16. WebSockets.", \
          "category" : "burp", \
          "url"      : "/2022-03-21-16.WebSockets/", \
          "date"     : "March 21, 2022" \
        }, \
       \
        { \
          "title"    : "15.DOM-based XSS vulnerabilities.", \
          "category" : "burp", \
          "url"      : "/2022-03-20-15-DOM-based_vulnerabilities/", \
          "date"     : "March 20, 2022" \
        }, \
       \
        { \
          "title"    : "14. Clickjacking.", \
          "category" : "burp", \
          "url"      : "/2022-03-19-14.Clickjacking/", \
          "date"     : "March 19, 2022" \
        }, \
       \
        { \
          "title"    : "13. Cross-Origin Resource Sharing.", \
          "category" : "burp", \
          "url"      : "/2022-03-18-13.Cross-origin_resource_sharing_(CORS)/", \
          "date"     : "March 18, 2022" \
        }, \
       \
        { \
          "title"    : "12. Cross-Site Request Forgery.", \
          "category" : "burp", \
          "url"      : "/2022-03-17-12.Cross-site_request_forgery_(CSRF)/", \
          "date"     : "March 17, 2022" \
        }, \
       \
        { \
          "title"    : "11. Cross-Site Scripting.", \
          "category" : "burp", \
          "url"      : "/2022-03-16-11.Cross-site_scripting_(XSS)/", \
          "date"     : "March 16, 2022" \
        }, \
       \
        { \
          "title"    : "10. XXE Injection.", \
          "category" : "burp", \
          "url"      : "/2022-03-15-10.XXE_injection/", \
          "date"     : "March 15, 2022" \
        }, \
       \
        { \
          "title"    : "9. Server-Side Request Forgery.", \
          "category" : "burp", \
          "url"      : "/2022-03-14-9.Server-side_request_forgery/", \
          "date"     : "March 14, 2022" \
        }, \
       \
        { \
          "title"    : "8. File Upload.", \
          "category" : "burp", \
          "url"      : "/2022-03-13-8.File_upload_vulnerabilities/", \
          "date"     : "March 13, 2022" \
        }, \
       \
        { \
          "title"    : "7. Access Control.", \
          "category" : "burp", \
          "url"      : "/2022-03-12-7.Access_control/", \
          "date"     : "March 12, 2022" \
        }, \
       \
        { \
          "title"    : "6. Information Disclosure.", \
          "category" : "burp", \
          "url"      : "/2022-03-11-6.Information_disclosure/", \
          "date"     : "March 11, 2022" \
        }, \
       \
        { \
          "title"    : "5. Bussiness Logic Vulnerabilities.", \
          "category" : "burp", \
          "url"      : "/2022-03-10-5.Business_logic_vulnerabilities/", \
          "date"     : "March 10, 2022" \
        }, \
       \
        { \
          "title"    : "4. Command Injection.", \
          "category" : "burp", \
          "url"      : "/2022-03-09-4.Command_Injection/", \
          "date"     : "March  9, 2022" \
        }, \
       \
        { \
          "title"    : "3. Directory Traversal.", \
          "category" : "burp", \
          "url"      : "/2022-03-08-3.Directory_Traversal/", \
          "date"     : "March  8, 2022" \
        }, \
       \
        { \
          "title"    : "2. Authentication.", \
          "category" : "burp", \
          "url"      : "/2022-03-07-2.Authentication/", \
          "date"     : "March  7, 2022" \
        }, \
       \
        { \
          "title"    : "1. SQLInjection", \
          "category" : "burp", \
          "url"      : "/2022-03-06-1.SQLInjection/", \
          "date"     : "March  6, 2022" \
        }, \
       \
        { \
          "title"    : "Seguridad Perimetral", \
          "category" : "blueteam", \
          "url"      : "/2022-02-09-Seguridad_Perimetral/", \
          "date"     : "February  9, 2022" \
        }, \
       \
        { \
          "title"    : "Hardening de sistemas", \
          "category" : "blueteam", \
          "url"      : "/2022-02-09-Hardening_de_sistemas/", \
          "date"     : "February  9, 2022" \
        }, \
       \
        { \
          "title"    : "Bandit", \
          "category" : "otw", \
          "url"      : "/2022-02-08-Bandit/", \
          "date"     : "February  8, 2022" \
        }, \
       \
        { \
          "title"    : "Proxy", \
          "category" : "redes", \
          "url"      : "/2022-02-07-Proxys/", \
          "date"     : "February  7, 2022" \
        }, \
       \
        { \
          "title"    : "Protocolos Relevantes", \
          "category" : "redes", \
          "url"      : "/2022-02-07-Protocolos_Importantes/", \
          "date"     : "February  7, 2022" \
        }, \
       \
        { \
          "title"    : "Curso Básico Redes", \
          "category" : "redes", \
          "url"      : "/2022-02-07-Precurso_Redes/", \
          "date"     : "February  7, 2022" \
        }, \
       \
        { \
          "title"    : "IPs", \
          "category" : "redes", \
          "url"      : "/2022-02-07-IPs/", \
          "date"     : "February  7, 2022" \
        }, \
       \
        { \
          "title"    : "Movimientos Laterales", \
          "category" : "redteam", \
          "url"      : "/2022-02-06-Introducci%C3%B3n_a_movimientos_laterales/", \
          "date"     : "February  6, 2022" \
        }, \
       \
        { \
          "title"    : "Evasión de Defensas", \
          "category" : "redteam", \
          "url"      : "/2022-02-05-Evasi%C3%B3n_de_Defensas/", \
          "date"     : "February  5, 2022" \
        }, \
       \
        { \
          "title"    : "Escalada de privilegios", \
          "category" : "redteam", \
          "url"      : "/2022-02-05-Escalada_de_privilegios/", \
          "date"     : "February  5, 2022" \
        }, \
       \
        { \
          "title"    : "Metasploit", \
          "category" : "redteam", \
          "url"      : "/2022-02-04-Metasploit_B%C3%A1sico/", \
          "date"     : "February  4, 2022" \
        }, \
       \
        { \
          "title"    : "Ataques a aplicaciones Android", \
          "category" : "redteam", \
          "url"      : "/2022-02-03-Ataques_aplicaciones_android/", \
          "date"     : "February  3, 2022" \
        }, \
       \
        { \
          "title"    : "Ataque a aplicaciones web.", \
          "category" : "redteam", \
          "url"      : "/2022-02-02-Ataques_a_aplicaciones_web/", \
          "date"     : "February  2, 2022" \
        }, \
       \
        { \
          "title"    : "Ataques a Infraestructuras y Redes", \
          "category" : "redteam", \
          "url"      : "/2022-02-01-Ataques_a_Infraestructuras_y_Redes/", \
          "date"     : "February  1, 2022" \
        }, \
       \
        { \
          "title"    : "Análisis de Objetivos", \
          "category" : "redteam", \
          "url"      : "/2022-01-28-An%C3%A1lisis_de_Objetivos/", \
          "date"     : "January 28, 2022" \
        }, \
       \
       \
        { \
          "title"    : "Blueteam Basics", \
          "category" : "page", \
          "url"      : "/BLUETEAMBASICSpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "PortSwigger BurpSuite Course", \
          "category" : "page", \
          "url"      : "/BURPSUITEpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "C programming subjects.", \
          "category" : "page", \
          "url"      : "/Cpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Dharma Fuzzer language", \
          "category" : "page", \
          "url"      : "/DHARMApage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Exploiting &amp; Reversing", \
          "category" : "page", \
          "url"      : "/EXPREVpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Fuzzing JavaScript Engine", \
          "category" : "page", \
          "url"      : "/Fuzzpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "HackTheBox", \
          "category" : "page", \
          "url"      : "/HackTheBoxpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "PEN200 notes", \
          "category" : "page", \
          "url"      : "/PEN200page/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Proyectos", \
          "category" : "page", \
          "url"      : "/PROJECTSpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Networking Basics", \
          "category" : "page", \
          "url"      : "/REDESpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "RedTeam Basics", \
          "category" : "page", \
          "url"      : "/REDTEAMBASICSpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Retired Machines", \
          "category" : "page", \
          "url"      : "/RetiredMachinespage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "TryHackMe", \
          "category" : "page", \
          "url"      : "/THMpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "About me", \
          "category" : "page", \
          "url"      : "/aboutme/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "THM", \
          "category" : "page", \
          "url"      : "/preOSCPpage/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Tag Index", \
          "category" : "page", \
          "url"      : "/tags/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page2/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page3/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page4/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page5/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page6/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page7/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page8/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page9/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page10/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page11/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page12/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page13/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page14/", \
          "date"     : "January 1, 1970" \
        }, \
       \
        { \
          "title"    : "Germán Sanmillán", \
          "category" : "page", \
          "url"      : "/page15/", \
          "date"     : "January 1, 1970" \
        } \
       \
    ]';
    searchjson = JSON.parse(searchjson);

    var sjs = SimpleJekyllSearch({
      searchInput: document.getElementById('nav-search-input'),
      resultsContainer: document.getElementById('search-results-container'),
      json: searchjson
    });
  </script>
</div>





  <!-- TODO this file has become a mess, refactor it -->







<header class="header-section ">

<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="post-heading">
          <h1>Seguridad Perimetral</h1>
          
            
              <h2 class="post-subheading">Concepto de seguridad perimetral y herramientas.</h2>
            
          

          
            <span class="post-meta">Posted on February 9, 2022</span>
            
            
          
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class=" container-md ">
  <div class="row">
    <div class=" col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 ">

      

      

      <article role="main" class="blog-post">
        <h1 id="1-antecedentes-conceptos-previos">1. Antecedentes. Conceptos previos.</h1>

<p><br /></p>

<ul>
  <li>
    <p><strong>WAN</strong>: Se trata de un acrónimo para Wide Area Network, se tratan de redes a gran escala que muchas veces abarcan países o continentes. Se suele utilizar para hacer referencia a una red externa en el contexto de dos redes, una interna y otra externa.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>LAN</strong>: Se trata de un acrónimo para Local Area Network, se tratan redes pequeñas que abarcan una extensión física limitada y que generalmente son de tipo privada y estan gestionadas por puntos de acceso como Routers (ver tema 5 de Red Team).</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Firewall</strong>: Un firewall o cortafuegos es un dispositivo (hardware o software) que tiene por funcionalidad el filtrar y bloquear tráfico de red para proporcionar mayor seguridad a una red privada de accesos o peticiones indeseables desde el exterior.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Router</strong>: Un Router o dispositivo de enrutamiento es un dispositivo que tiene  por objetivo <strong>enrutar</strong>, es decir, encaminar paquetes de red a su destino poniéndolos en dirección a el legítimo host dentro de su red privada o hacia otro router que se haga cargo del paquete.</p>

    <p>Los routers cuentan con dos IPs, una privada y otra pública.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>IDS</strong>: Se trata de un acrónimo para Sistema de Detección de Intrusos; es un dispositivo que supervisa una red en busca de actividades maliciosas o infracciones de políticas.</p>

    <p>Cualquier actividad de intrusión o violación generalmente se informa a un administrador o se recopila de forma centralizada mediante un sistema de gestión de eventos e información de seguridad.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>IPS</strong>: Se trata de un IDS que tiene añadida la funcionalidad de automatizar la toma de medidas necesarias para bloquear cualquier actividad que se considere ilícita.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>DHCP</strong>: Protocolo de asignación dinámica de IPs.</p>

    <p><br /></p>
  </li>
</ul>

<h1 id="2-seguridad-perimetral-concepto-y-herramientas">2. Seguridad Perimetral. Concepto y herramientas.</h1>

<p>El concepto de <strong>seguridad perimetral informática</strong> se refiere a la <strong>seguridad</strong> que afecta a la frontera de la red de nuestra empresa también llamada <strong>perímetro</strong>: el conjunto de máquinas y dispositivos que interactúan con el exterior, con otras redes.</p>

<p>Vamos a ver diversas herramientas que nos van a ayudar a proteger nuestro perímetro: Pfsense, IDSs (Snort), IPSs (Suricata o Banyard2).</p>

<p><br /></p>

<h1 id="3-pfsense">3. PFSense.</h1>

<h2 id="31-pfsense-como-concepto">3.1. Pfsense como concepto.</h2>

<p><strong>Pfsense</strong> es un software que combina la funcionalidad del router y del firewall construido a modo de sistema operativo. Es decir, es un sistema operativo con funcionalidades específicas de cortafuegos y router.</p>

<p>Se trata herramienta de monitorización, bloqueo y redirección de tráfico que, además, ayuda a minimizar el número de exposiciones de elementos de nuestra red interna a la red externa (minimizar la superficie de ataque).</p>

<p><br /></p>

<h2 id="32-instalación-de-pfsense">3.2. Instalación de pfsense.</h2>

<p>Como ya hemos indicado, se trata de un sistema operativo que hay que instalar en alguna máquina. En este caso lo instalaremos en una máquina virtual.</p>

<p>Lo descargamos desde la página: https://www.pfsense.org/download/ y seleccionamos una arquitectura AMD64, con imágen ISO y un mirror en Alemania.</p>

<p>De todas formas hay que contrastar la velocidad de descarga de cada servidor.</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214101934.png" text-align="center" />
</div>

<p>Una vez hemos descargado la imágen correspondiente, la instalamos en Virtualbox:</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214104258.png" text-align="center" />
</div>

<p>Seguidamente, creamos dos RedNats y habilitamos dos interfaces de red para la pfsense:</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214162810.png" text-align="center" />
</div>

<p><br /></p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214162844.png" text-align="center" />
</div>

<p>Cómo será esta nueva NatNetwork1 se deja para más adelante, de momento sólo habilitamos una segunda red.</p>

<p>Comenzamos la instalación:</p>

<ul>
  <li>
    <p>Aceptar:</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214163256.png" text-align="center" />
  </div>

    <p><br /></p>
  </li>
  <li>
    <p>Instalar:</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214105140.png" text-align="center" />
  </div>

    <p>&lt;/br&gt;</p>
  </li>
  <li>
    <p>Elegimos “spanish es.acc.hdb keymap”:</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214163508.png" text-align="center" />
  </div>

    <p><br /></p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214163532.png" text-align="center" />
  </div>

    <p><br /></p>
  </li>
  <li>
    <p>Comenzamos la instalación UFS Bios:</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214163731.png" text-align="center" />
  </div>

    <p><br /></p>
  </li>
  <li>
    <p>No queremos abrir una shell:</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214163847.png" text-align="center" />
  </div>

    <p><br /></p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214163936.png" text-align="center" />
  </div>

    <p><br /></p>
  </li>
  <li>
    <p>Una vez terminada, reiniciaremos la máquina y quitaremos la imágen ISO (medio de instalación) para que no nos vuelva a salir el wizard de instalación.</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214164105.png" text-align="center" />
  </div>

    <p>Pinchamos sobre el disquete de la izquierda y abajo del todo seleccionamos la opción quitar disco. <strong>Finalizamos dando a OK</strong> no a la cruz arriba a la derecha.</p>

    <p><br /></p>
  </li>
</ul>

<h2 id="33-configuración-de-pfsense">3.3. Configuración de pfsense.</h2>

<p>Una vez hemos instalado el sistema operativo debemos configurar las funcionalidades de router y de firewall a través de una configuración local y remota (configuración con sitio web) respectivamente.</p>

<p><br /></p>

<h3 id="331-antecedentes-en-virtualbox">3.3.1. Antecedentes en Virtualbox.</h3>

<p>Por un lado, configuramos la recién creada NatNetwork1 y deshabilitamos el DHCP de la misma (<strong>debemos observar bien que la dirección de red  de esta rednat1 es 10.0.3.x, no 10.0.2.x</strong>, si el 3 no aparece en lugar del 2 habrá que cambiarlo manualmente)</p>

<p>El protocolo DHCP asigna dinámicamente IPs dentro de una red, pero esa es precisamente una tarea propia del router con lo que configuraremos pfsense para que desempeñe esa misma tarea y por eso deshabilitamos esta opción:</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214164632.png" text-align="center" />
</div>

<p>Además, configuramos la Kali en modo RedNat y le asignamos la NatNetwork1. Esto lo hacemos porque vamos a configurar pfsense desde un servidor web que sólo es accesible desde la LAN y por eso cambiamos la interfaz de red de la Kali temporalmente.</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214165113.png" text-align="center" />
</div>

<p><br /></p>

<h3 id="332-configuración-local-pfsense">3.3.2. Configuración local pfsense.</h3>

<p>Una vez hemos instalado el software, comienza la configuración de la máquina. Volvemos a encender la máquina. Al encenderse y cargarse aparecerá un menú:</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214165440.png" text-align="center" />
</div>

<p><br /></p>

<ol>
  <li>
    <p>En primer lugar, elegimos la opción para asignar las interfaces de red.</p>

    <p>Como queremos que tenga una funcionalidad de router necesitamos que tenga una IP para la red externa y otra IP para la red interna.</p>

    <div style="text-align:center">
 <img src="/assets/img/M10/Pasted%20image%2020220214165543.png" text-align="center" />
 </div>

    <p>No levantamos la VLAN. Asignamos a la WAN -&gt; em0 y a la LAN -&gt; em1.</p>

    <div style="text-align:center">
 <img src="/assets/img/M10/Pasted%20image%2020220214165701.png" text-align="center" />
 </div>

    <p>Le damos a ‘y’.</p>

    <p><br /></p>
  </li>
  <li>
    <p>Volverá a aparecernos el menú inicial. Pulsamos la opción 2 para configurar las direcciones IP.</p>

    <ul>
      <li>
        <p>En primer lugar configuramos la IP para la interfaz de red asignada a la WAN, que será configurada por el DHCP y dejaremos en blanco lo demás. De esta forma, el protocolo DHCP se encargará de asignar a pfsense una IP para la red WAN (que será la red 10.0.2.x de Virtualbox que sí tiene habilitado el DHCP).</p>

        <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214170708.png" text-align="center" />
  </div>

        <p>Y le indicamos que no a la última opción para que pfsense se expona a través de HTTPS y la comuniación siempre sea cifrada.</p>

        <p><br /></p>
      </li>
      <li>
        <p>Hacemos lo propio con la LAN:</p>

        <p>Esta red coincide con la NatNetwork1 que tiene deshabilitado el DHCP y por tanto le asignamos manualmente la IP estática 10.0.3.19, la máscara de red es 24, no asignamos dirección de gateaway ya que el propio pfsense actuará como router según hemos dicho.</p>

        <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214171227.png" text-align="center" />
  </div>

        <p>Habilitamos el protocolo DHCP para dotar de IPs a las máquinas dentro de la LAN y dotar a pfsense de funcionalidad router (recordamos que hemos deshabilitado el DHCP de la NatNetwork1) e introducimos el rango de direcciones IPv4 que irá desde 1 a 200 y finalizamos.</p>

        <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214171601.png" text-align="center" />
  </div>

        <p><br /></p>
      </li>
    </ul>
  </li>
</ol>

<p>Nos aparecerá el siguiente mensaje por pantalla:</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214171844.png" text-align="center" />
</div>

<p><br /></p>

<h3 id="333-configuración-de-pfsense-a-través-del-servidor-web">3.3.3. Configuración de pfsense a través del servidor web.</h3>

<p>Una vez hemos accedido a la dirección indicada en el mensaje anterior desde nuestra Kali a través de la LAN obtenemos:</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214172111.png" text-align="center" />
</div>

<p>Donde las credenciales por defecto serán: <strong>admin:pfsense</strong>.</p>

<p><br /></p>

<p>Una vez hemos accedido al sitio web con las credenciales anteriores veremos la siguiente ventana, le damos a Next:</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174023.png" text-align="center" />
</div>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174046.png" text-align="center" />
</div>

<p>Hostname: pfSense
Domain: Localdomain</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174151.png" text-align="center" />
</div>

<p>Time Server: 2.pfsense.pool.ntp.org o el que esté disponible. Podemos verlo en pool.ntp.org para ver cuáles son de confianza.</p>

<p>Timezone: ETC/GMT+1 (En función de dónde estemos ubicados.)</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174346.png" text-align="center" />
</div>

<p>WAN Interface: DHCP</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174522.png" text-align="center" />
</div>

<p>LAN Interface: 10.0.3.19</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174545.png" text-align="center" />
</div>

<p>Password: admin (Credenciales: admin:admin) O LA QUE NOSOTROS CONSIDEREMOS CONVENIENTE.</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174621.png" text-align="center" />
</div>

<p>Le damos a Reload.</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174707.png" text-align="center" />
</div>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174726.png" text-align="center" />
</div>

<p>Le damos a ‘Check Update’:</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214174910.png" text-align="center" />
</div>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214182802.png" text-align="center" />
</div>

<p>Una vez hemos terminado la configuración buscamos la posibilidad de hacer un backup de la máquina (snapshot, clonar, copiar el disco duro, etc.)</p>

<p><br /></p>

<h2 id="34-reglas-de-pfsense">3.4. Reglas de Pfsense.</h2>

<p>Hemos dicho que pfsense hace las veces de router y firewall. La funcionalidad de firewall de pfsense se configura desde el servidor web a través de la definición de reglas que permitirán o bloquearán tráfico de red desde la WAN a la LAN y viceversa. Vamos ahora a definir una serie de reglas para llevar a cabo una serie de redirecciones de tráfico y permitir el paso de un tipo de paquetes.</p>

<p><br /></p>

<h3 id="341-política-de-bloqueo-por-defecto">3.4.1. Política de bloqueo por defecto.</h3>

<p>Vamos a deshabilitar la política de bloqueo de redes por defecto. Pfsense por defecto bloquea todo el tráfico desde WAN que provenga desde IPs privadas (192.168…, 10.0…, etc). Por lo que para funcionar en un entorno de red privada como el de virtualbox debemos deshabilitar esta opción (SI no, esto no aplica).</p>

<p>Para ello, debemos acceder al sitio web de configuración de pfsense con la Kali desde la red que este configurada como LAN en pfsense. Según la guía anterior, esta red es 10.0.3.x</p>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214190217.png" text-align="center" />
</div>

<p><br /></p>

<p>Por tanto, configuramos nuestra Kali con la NatNetwork1 que esta configurada previamente con 10.0.3.0 y accedemos al servidor de web de pfsense a través de la LAN (IP 10.0.3.19). Una vez dentro, acudimos a la sección de reglas.</p>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214190433.png" text-align="center" />
</div>

<p><br /></p>

<p>Acudimos a la primera opción, la que dice <strong>block private networks</strong> y le damos a Actions (Ruedecita).</p>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214190640.png" text-align="center" />
</div>

<p><br /></p>

<p>Bajamos hasta abajo del todo hasta la sección <strong>Reserved Networks</strong> y quitamos el tick de las dos opciones que hay y guardamos:</p>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214190759.png" text-align="center" />
</div>

<p><br /></p>

<p><strong>aplicamos cambios</strong>:</p>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214190930.png" text-align="center" />
</div>

<p><br /></p>

<h3 id="342-permitir-icmp-ping">3.4.2. Permitir ICMP (ping).</h3>

<p>Ahora vamos a crear una regla para permitir paquetes ICMP que por defecto se bloquean desde una WAN.</p>

<p>Para ello, vamos a crear una regla al principio de la lista</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214210939.png" text-align="center" />
</div>

<p>Y en ella establecemos las siguientes opciones:</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214211510.png" text-align="center" />
</div>

<p>Y a modo de descripición indicamos que se trata de una regla que permite el paso de paquetes ICMP por WAN. Habilitamos cualquier pero podríamos dejarlo solo en echo reply para habilitar sólo el <em>ping</em>.</p>

<p>FInalmente obtenemos:</p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214211616.png" text-align="center" />
</div>

<p>Aplicamos los cambios y guardamos. Esto en la práctica no nos conviene, es sólo a modo de ejemplo.</p>

<p><br /></p>

<h3 id="343-redirección-de-puertos">3.4.3. Redirección de puertos.</h3>

<p>Vamos a generar reglas que redireccionan conexiones provenientes desde la WAN a una máquina que se encuentra dentro de la LAN, en este caso será la Metasploitable2. Por ello es <strong>importante tener configurada la Metasploitable2 en modo NatNetwork1 (10.0.3.x)</strong>.</p>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214215150.png" text-align="center" />
</div>

<p><br /></p>

<div style="text-align:center">
<img src="/assets/img/M10/Pasted%20image%2020220214213631.png" text-align="center" />
</div>

<p><br /></p>

<ul>
  <li>
    <p><strong>Todo lo que entre por WAN al puerto 22 se redirigirá a la Metasploitable puerto 22</strong>.</p>

    <p>Conviene recordar que la Metasploitable será una máquina que estará dentro de la LAN, es decir, que pfsense se utiliza aquí a modo de <strong>enrutador</strong> que conecta dos redes: 10.0.2.x con 10.0.3.x según la guía que estamos siguiendo.</p>

    <p>Por eso hemos permitido el desbloqueo de conexiones WAN y de trazas ICMP, de lo contrario esta regla no tendría sentido.</p>

    <p>Para ello esta vez nos dirigimos a FIrewall -&gt; NAT.</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214212330.png" text-align="center" />
  </div>

    <p>Y ajustamos las opciones correctamente.</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214213229.png" text-align="center" />
  </div>

    <p>En este caso, optamos por tener sólo una máquina pero podemos añadir tantas como queramos, sólo hacen falta definir las reglas adecuadas para establecer una redirección de puertos satisfactoria.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Todo lo que entre por el puerto 80 de WAN se redirigirá al puerto 80 de la Metasploitable2</strong>:</p>

    <p>Hacemos de nuevo lo que hemos hecho con SSH pero ahora con el puerto 80.</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214214302.png" text-align="center" />
  </div>

    <p>Guardamos y aplicamos los cambios.</p>

    <p><br /></p>
  </li>
</ul>

<h2 id="35-comprobando-las-reglas">3.5. Comprobando las reglas.</h2>

<p>Ahora que hemos ajustado las reglas a través del servidor web, apagamos la Kali y la cambiamos desde la NatNetwork1 (LAN) a NatNetwork (WAN) para que pueda realizar peticiones externas desde la WAN y podamos comprobar que nuestras regas están bien hechas y que pfsense funciona correctamente.</p>

<p><br /></p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214214550.png" text-align="center" />
</div>

<p><br /></p>

<p>Además antes de proseguir comprobasmo cuál es la IP de pfsense para la red WAN:</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214214741.png" text-align="center" />
</div>

<p>(Por una confusión tuve que reinstalar la máquina y se me asignó otra IP a la WAN en pfsense durante la instalación, ya que <strong>antes era la 10.0.2.15 y ahora es la 10.0.2.7</strong> pero esto no afecta en nada a la resolución del ejercicio, sólo es la IP de conexión a pfsense desde WAN y si no hubiera reinstalado la máquina seguiría teniendo la 10.0.2.15).</p>

<p><br /></p>

<ul>
  <li>
    <p><strong>Ping a pfsense</strong>: Vamos a ver qué puertos ofrece la máquina pfsense para comprobar que nuestra regla de habilitación de paquetes ICMP funciona. Si es así, los paquetes ICMP que el comando ping manda deberían llegar a los puertos 22 y 80 de pfsense y de ahí deberían de ser redirigidos a los respectivos puertos 22 y 80 de Metasploitable.</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214221328.png" text-align="center" />
  </div>

    <p>Comprobamos que así es y además debemos de hacer una observación. Al igual que ocurría con la redirección de puertos SSH, al pedir la versión de los servicios que ofertan dichos puertos que llevan a cabo una redirección lo que se obtiene es información del puerto remoto. No debemos de hacer caso del puerto que escaneamos (cuyo número se elige arbitrariamente) sino de la información que recibimos en el campo de la <strong>versión</strong> que realmente es información proporcionada por el puerto remoto y no por el local; no por estar escaneando el puerto 80 estamos accediendo al servicio HTTP ya que podríamos haber configurado para redireccionar el puerto 9999 en pfsense. Lo que realmente debe orientarnos sobre el servicio que estamos visitando en ese puerto es la versión del mismo.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Redirección SSH</strong>: Vamos a conectarnos al puerto 22 de pfsense con el comando SSH y utilizamos el usuario <em>msfadmin</em> para ver si la redirección es satisfactoria. De serlo, se nos debe redirigir al puerto 22 de Metasploitable y como estamos accediendo con un usuario existente en la misma la operación debería de salir correctamente:</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214214902.png" text-align="center" />
  </div>

    <p>Y efectivamente, es satisfactoria.</p>

    <p><br /></p>
  </li>
  <li>
    <p><strong>Redirección HTTP</strong>: Vamos a intentar acceder al puerto 80 de pfsense para ver si la redirección HTTP de pfsense a la Metasploitable2 es satisfactoria.</p>

    <div style="text-align:center">
  <img src="/assets/img/M10/Pasted%20image%2020220214215435.png" text-align="center" />
  </div>

    <p>Y de nuevo es satisfactoria ya que nos conectamos a la IP de pfsense pero nos aparece la web de la Metasploitable2.</p>

    <p><br /></p>
  </li>
</ul>

<h2 id="36-qué-está-ocurriendo">3.6. ¿Qué está ocurriendo?</h2>

<p>Lo que hacemos es que el servidor donde hemos instalado el software de pfsense actúe a modo de enrutador entre dos redes. Entonces, las conexiones que llegan a ese enrutador se redirigen según las reglas establecidas con la ventaja de que toda la información pasa a través de pfsense permitiendo su monitorización.</p>

<div style="text-align:center">
	<img src="/assets/img/M10/Pasted%20image%2020220214215724.png" text-align="center" />
</div>

<p>De esta manera, configurando reglas ponemos en contacto todos los servicios que ofrecen nuestras máquinas de la LAN (http, ssh, …) sin exponer a estas al exterior.</p>

<p>Lo único que estaría expuesto sería pfsense que es una herramienta de monitorización y los puertos objeto de la redirección de pfsense de cada una de las máquinas de la LAN.</p>


      </article>

      
        <div class="blog-tags">
          <span>Tags:</span>
          
            <a href="/tags#blueteam">blueteam</a>
          
        </div>
      

      

      
        <!-- Check if any share-links are active -->




<section id = "social-share-section">
  <span class="sr-only">Share: </span>

  
    <a href="https://twitter.com/intent/tweet?text=Seguridad+Perimetral&url=http%3A%2F%2Flocalhost%3A4000%2F2022-02-09-Seguridad_Perimetral%2F"
      class="btn btn-social-icon btn-twitter" title="Share on Twitter">
      <span class="fab fa-fw fa-twitter" aria-hidden="true"></span>
      <span class="sr-only">Twitter</span>
    </a>
  

  
    <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2022-02-09-Seguridad_Perimetral%2F"
      class="btn btn-social-icon btn-facebook" title="Share on Facebook">
      <span class="fab fa-fw fa-facebook" aria-hidden="true"></span>
      <span class="sr-only">Facebook</span>
    </a>
  

  
    <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F2022-02-09-Seguridad_Perimetral%2F"
      class="btn btn-social-icon btn-linkedin" title="Share on LinkedIn">
      <span class="fab fa-fw fa-linkedin" aria-hidden="true"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  

  

  

</section>



      

      <ul class="pagination blog-pager">
        
        <li class="page-item previous">
          <a class="page-link" href="/2022-02-09-Hardening_de_sistemas/" data-toggle="tooltip" data-placement="top" title="Hardening de sistemas">&larr; Previous Post</a>
        </li>
        
        
        <li class="page-item next">
          <a class="page-link" href="/2022-03-06-1.SQLInjection/" data-toggle="tooltip" data-placement="top" title="1. SQLInjection">Next Post &rarr;</a>
        </li>
        
      </ul>
      
  
  
  

  


  



    </div>
  </div>
</div>


  <footer>
  <div class="container-md beautiful-jekyll-footer">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
      <ul class="list-inline text-center footer-links"><li class="list-inline-item">
    <a href="/feed.xml" title="RSS">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">RSS</span>
    </a>
  </li><li class="list-inline-item">
    <a href="mailto:sanmillan.german@gmail.com" title="Email me">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Email me</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://github.com/Qv1nTv5" title="GitHub">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-github fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">GitHub</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://twitter.com/Qvintvs1" title="Twitter">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">Twitter</span>
   </a>
  </li><li class="list-inline-item">
    <a href="https://linkedin.com/in/german-sanmillan-68b308229/" title="LinkedIn">
      <span class="fa-stack fa-lg" aria-hidden="true">
        <i class="fas fa-circle fa-stack-2x"></i>
        <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
      </span>
      <span class="sr-only">LinkedIn</span>
   </a>
  </li></ul>

      
      <p class="copyright text-muted">
      
        Qv1nTv5
        &nbsp;&bull;&nbsp;
      
      2024

      

      
      </p>
      <p class="theme-by text-muted">
        Powered by
        <a href="https://beautifuljekyll.com">Beautiful Jekyll</a>
      </p>
      </div>
    </div>
  </div>
</footer>


  
  
    
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>


  
    
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>


  
    
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


  



  
    <!-- doing something a bit funky here because I want to be careful not to include JQuery twice! -->
    
      <script src="/assets/js/beautifuljekyll.js"></script>
    
  









</body>
</html>
